"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(a){Date.now();var n,e,o,i,r,s,c=window.innerHeight,t=Date.now(),u=Date.now(),d=0,f=navigator.userAgent,g=document.body,l=document.documentElement,p=Math.max(g.scrollHeight,g.offsetHeight,l.clientHeight,l.scrollHeight,l.offsetHeight),m=(screen.width,screen.height,0),w=0,h=!1,y=0;tatsuFrontendConfig.goals=tatsuFrontendConfig.goals||{};function v(t,e,n){var o,a="";n&&((o=new Date).setTime(o.getTime()+24*n*60*60*1e3),a="; expires="+o.toUTCString()),document.cookie=t+"="+(e||"")+a+"; path=/"}function S(t){for(var e=t+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var a=n[o];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(e))return a.substring(e.length,a.length)}return null}function b(){S("swipepages_user")?n=S("swipepages_user"):(n=Math.random().toString(36).substring(2)+Date.now().toString(36),v("swipepages_user",n)),o&&i&&!S(o)&&v(o,i)}function I(){Math.abs(u-t)<3e4&&document.hasFocus()&&0,t=Date.now()}function C(){window.pageYOffset>d&&(window.pageYOffset>=c&&0,L(window.pageYOffset),d=window.pageYOffset,0),u=Date.now()}function k(){var t;h&&(t=a(this).data("tracking-href")||a(this).attr("href"),-1<tatsuFrontendConfig.goals.links.indexOf(t)&&(t={pageId:o,variantId:i,anchorConversionLink:m=1,id:s,userAgent:f},navigator.sendBeacon(tatsuFrontendConfig.apiBaseUrl+"/analytics",JSON.stringify(t))))}function F(){y=1}function O(){var o;window.addEventListener("scroll",C),window.addEventListener("mousemove",C),window.addEventListener("keypress",C),window.setInterval(I,1e3),window.addEventListener("paymentSuccess",F),tatsuFrontendConfig.goals.formSubmission&&(a(".tatsu-form").on("submit",E),o=0,a(document).ready(function(){var n=setInterval(function(){var t,e;o<10?(t=a(".hs-button"),e=a("iframe").contents().find(".hs-button"),0!=(e=a.merge(t,e)).length&&(clearInterval(n),e.on("click",function(){E()}))):clearInterval(n),o+=1},1e3)})),tatsuFrontendConfig.goals.linkClicks&&a("a").on("click",k)}var E=function(){var t;w=1,h&&(t={pageId:o,variantId:i,wasFormSubmitted:w,id:s,userAgent:f},a.ajax({method:"POST",url:tatsuFrontendConfig.apiBaseUrl+"/analytics",data:JSON.stringify(t),contentType:"text/plain"}))},L=function(t){e=c/p,e*=100};a(function(){var t,e;Date.now(),o=document.getElementById("swipe-pages-page").value,i=document.getElementById("swipe-pages-variant").value,"function"!=typeof window.spAnalyticsSetSource||"object"==_typeof(t=window.spAnalyticsSetSource())&&(o=t.pageId||o,i=t.variantId||i,w=t.wasFormSubmitted||w,m=t.anchorConversionLink||m,y=t.payment||y),document.getElementById("swipe-pages-account")&&(r=document.getElementById("swipe-pages-account").value),!o||!i||(t=new URL(window.location.href),e=new URLSearchParams(t.search).get("billplz[id]")||!1,t.searchParams.has("couponCode")&&t.searchParams.has("popupId")||e)||(b(),e={variantId:i,pageId:o,Create:!0,userAgent:navigator.userAgent,cookie:n},r&&(e.accountId=r),w&&(e.wasFormSubmitted=w),m&&(e.anchorConversionLink=m),y&&(e.payment=y),a.ajax({method:"POST",url:tatsuFrontendConfig.apiBaseUrl+"/analytics",data:JSON.stringify(e),contentType:"text/plain"}).done(function(t){h=!0,s=t}).fail(function(t,e,n){console.log(n)}),O())})}(jQuery);